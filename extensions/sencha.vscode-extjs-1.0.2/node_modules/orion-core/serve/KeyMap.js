ST.KeyMap = (function() {
    var keys = {
        8: 'Backspace',
        9: 'Tab',
        12: 'Clear',
        13: 'Enter',
        16: 'Shift',
        17: 'Control',
        18: 'Alt',
        20: 'CapsLock',
        27: 'Escape',
        32: ' ',
        33: 'PageUp',
        34: 'PageDown',
        35: 'End',
        36: 'Home',
        37: 'ArrowLeft',
        38: 'ArrowUp',
        39: 'ArrowRight',
        40: 'ArrowDown',
        46: 'Delete',
        48: '0',
        49: '1',
        50: '2',
        51: '3',
        52: '4',
        53: '5',
        54: '6',
        55: '7',
        56: '8',
        57: '9',
        59: ';',
        61: '=',
        65: 'a',
        66: 'b',
        67: 'c',
        68: 'd',
        69: 'e',
        70: 'f',
        71: 'g',
        72: 'h',
        73: 'i',
        74: 'j',
        75: 'k',
        76: 'l',
        77: 'm',
        78: 'n',
        79: 'o',
        80: 'p',
        81: 'q',
        82: 'r',
        83: 's',
        84: 't',
        85: 'u',
        86: 'v',
        87: 'w',
        88: 'x',
        89: 'y',
        90: 'z',
        96: '0',
        97: '1',
        98: '2',
        99: '3',
        100: '4',
        101: '5',
        102: '6',
        103: '7',
        104: '8',
        105: '9',
        106: '*',
        107: '+',
        109: '-',
        110: '.',
        111: '/',
        112: 'F1',
        113: 'F2',
        114: 'F3',
        115: 'F4',
        116: 'F5',
        117: 'F6',
        118: 'F7',
        119: 'F8',
        120: 'F9',
        121: 'F10',
        122: 'F11',
        123: 'F12',
        173: '-',
        186: ';',
        187: '=',
        188: ',',
        189: '-',
        190: '.',
        191: '/',
        192: '`',
        219: '[',
        220: '\\',
        221: ']',
        222: '\''
    },
    reverseKeys = {
        'Backspace': 8,
        'Tab': 9,
        'Clear': 12,
        'Enter': 13,
        'Shift': 16,
        'Control': 17,
        'Alt': 18,
        'CapsLock': 20,
        'Escape': 27,
        ' ': 32,
        'PageUp': 33,
        'PageDown': 34,
        'End': 35,
        'Home': 36,
        'ArrowLeft': 37,
        'ArrowUp': 38,
        'ArrowRight': 39,
        'ArrowDown': 40,
        'Delete': 46,
        '0': 48,
        '1': 49,
        '2': 50,
        '3': 51,
        '4': 52,
        '5': 53,
        '6': 54,
        '7': 55,
        '8': 56,
        '9': 57,
        ';': 59,
        '=': 61,
        'a': 65,
        'b': 66,
        'c': 67,
        'd': 68,
        'e': 69,
        'f': 70,
        'g': 71,
        'h': 72,
        'i': 73,
        'j': 74,
        'k': 75,
        'l': 76,
        'm': 77,
        'n': 78,
        'o': 79,
        'p': 80,
        'q': 81,
        'r': 82,
        's': 83,
        't': 84,
        'u': 85,
        'v': 86,
        'w': 87,
        'x': 88,
        'y': 89,
        'z': 90,
        '*': 106,
        '+': 107,
        '-': 109,
        '.': 110,
        '/': 111,
        'F1': 112,
        'F2': 113,
        'F3': 114,
        'F4': 115,
        'F5': 116,
        'F6': 117,
        'F7': 118,
        'F8': 119,
        'F9': 120,
        'F10': 121,
        'F11': 122,
        'F12': 123,
        ',': 188,
        '`': 192,
        '[': 219,
        '\\': 220,
        ']': 221,
        '\'': 222
    },
    shiftKeys = {
        48: ')',
        49: '!',
        50: '@',
        51: '#',
        52: '$',
        53: '%',
        54: '^',
        55: '&',
        56: '*',
        57: '(',
        59: ':',
        61: '+',
        65: 'A',
        66: 'B',
        67: 'C',
        68: 'D',
        69: 'E',
        70: 'F',
        71: 'G',
        72: 'H',
        73: 'I',
        74: 'J',
        75: 'K',
        76: 'L',
        77: 'M',
        78: 'N',
        79: 'O',
        80: 'P',
        81: 'Q',
        82: 'R',
        83: 'S',
        84: 'T',
        85: 'U',
        86: 'V',
        87: 'W',
        88: 'X',
        89: 'Y',
        90: 'Z',
        173: '_',
        186: ':',
        187: '+',
        188: '<',
        189: '_',
        190: '>',
        191: '?',
        192: '~',
        219: '{',
        220: '|',
        221: '}',
        222: '"'
    },
    reverseShiftKeys = {
        ')': 48,
        '!': 49,
        '@': 50,
        '#': 51,
        '$': 52,
        '%': 53,
        '^': 54,
        '&': 55,
        '*': 56,
        '(': 57,
        ':': 59,
        '+': 61,
        'A': 65,
        'B': 66,
        'C': 67,
        'D': 68,
        'E': 69,
        'F': 70,
        'G': 71,
        'H': 72,
        'I': 73,
        'J': 74,
        'K': 75,
        'L': 76,
        'M': 77,
        'N': 78,
        'O': 79,
        'P': 80,
        'Q': 81,
        'R': 82,
        'S': 83,
        'T': 84,
        'U': 85,
        'V': 86,
        'W': 87,
        'X': 88,
        'Y': 89,
        'Z': 90,
        '_': 173,
        '<': 188,
        '>': 190,
        '?': 191,
        '~': 192,
        '{': 219,
        '|': 220,
        '}': 221,
        '"': 222
    },
    specialKeys = {
        // This map represents keys that fire keypress events with special characters.
        // All key codes in this map happen to be the same as the special character char
        // codes.
        8: 'Backspace',
        9: 'Tab',
        13: 'Enter'
    },
    reverseSpecialKeys = {
        Backspace: 8,
        Tab: 9,
        Enter: 13
    };

    ST.apply(keys, ST.isMac ? {
        // Mac-only keys
        19: 'F15',
        44: 'F13',
        91: 'Meta',
        93: 'Meta',
        124: 'F13',
        125: 'F14',
        126: 'F15',
        127: 'F16',
        128: 'F17',
        129: 'F18',
        130: 'F19',
        145: 'F14',
        224: 'Meta'
    } : {
        // PC-only keys
        19: 'Pause',
        45: 'Insert',
        91: 'OS',
        93: 'ContextMenu',
        144: 'NumLock',
        145: 'ScrollLock',
        181: 'VolumeMute',
        182: 'VolumeDown',
        183: 'VolumeUp'
    });

    ST.apply(reverseKeys, ST.isMac ? {
        'F15': 19,
        'F13': 44,
        'F16': 127,
        'F17': 128,
        'F18': 129,
        'F19': 130,
        'F14': 145,
        'Meta': 224
    } : {
        'Pause': 19,
        'Insert': 45,
        'OS': 91,
        'ContextMenu': 93,
        'NumLock': 144,
        'ScrollLock': 145,
        'VolumeMute': 181,
        'VolumeDown': 182,
        'VolumeUp': 183
    });

    return {
        keys: keys,
        reverseKeys: reverseKeys,
        shiftKeys: shiftKeys,
        reverseShiftKeys: reverseShiftKeys,
        specialKeys: specialKeys,
        reverseSpecialKeys: reverseSpecialKeys,
        lookupKey: function(keyCode) {
            return this.shiftKeys[keyCode] || this.keys[keyCode] || '';
        },
        lookupKeyCode: function(key) {
            return this.reverseShiftKeys[key] || this.reverseKeys[key] || 0;
        }
    }
})();
