"use strict";

var TestUtil = require('./../lib/test_util'),
    slash = require('slash'),
    path = require('path');

require('./../lib/chai_setup');

describe('config', function() {
    afterEach(TestUtil.cleanup); // rebuild the server before each test so that test classes don't bleed over between tests

    it('should find sdk in workspace', function() {
        TestUtil.assertAtCaret('config/workspace', 'caret', function(node) {
            var expected = path.resolve(path.join(process.cwd(), 'ext') + '/');
            global.tern.apps[0].sdk.path.should.eq(expected);
        })
    });

    it('should find sdk using classic.json', function() {
        TestUtil.assertAtCaret('config/classic.json', 'caret', function(node) {
            var expected = path.resolve(path.join(process.cwd(), 'sdk') + '/');
            global.tern.apps[0].sdk.path.should.eq(expected);
        })
    });
});