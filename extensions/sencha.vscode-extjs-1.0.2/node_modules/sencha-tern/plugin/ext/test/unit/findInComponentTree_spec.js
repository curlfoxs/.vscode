var TestUtil = require('./../lib/test_util');
var chai = require('./../lib/chai_setup');
var _ = require('lodash');
var findInComponentTree = require('../../lib/findInComponentTree');

describe('findInComponentTree', function() {
    afterEach(TestUtil.cleanup); // rebuild the server before each test so that test classes don't bleed over between tests

    it('should find values in parent components', function() {
        TestUtil.assertAtCaret("findInComponentTree/findInParentComponent", "caret", function(element) {
            findInComponentTree(element, 'controller').should.have.same.members(['mycontroller']);
        });
    });

    it('should find inherited values', function() {
        TestUtil.assertAtCaret("findInComponentTree/findInClassHierarchy", "caret", function(element) {
            findInComponentTree(element, 'controller').should.have.same.members(['mycontroller']);
        });
    });

    it('should find values in the component tree', function() {
        TestUtil.assertAtCaret("findInComponentTree/findInComponentTree", "caret", function(element) {
            findInComponentTree(element, 'controller').should.have.same.members(['mycontroller']);
        });
    });
});