"use strict";

var TestUtil = require('./../lib/test_util');
require('./../lib/chai_setup');

describe('urlFor', function() {
    afterEach(TestUtil.cleanup); // rebuild the server before each test so that test classes don't bleed over between tests

    //test case for building class name url
    it('should build class name url', function() {
        TestUtil.assertDocs("urlFor/exturls/classname", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.panel.Panel.html");
    });

    //test case for building config url
    it('should build config url', function() {
        TestUtil.assertDocs("urlFor/exturls/config", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.panel.Panel.html#cfg-isPanel");
    });

    //test case for building property url
    it('should build property url', function() {
        TestUtil.assertDocs("urlFor/exturls/property", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.panel.Panel.html#property-isPanel");
    });

    //test case for building method url
    it('should build method url', function() {
        TestUtil.assertDocs("urlFor/exturls/method", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.panel.Panel.html#method-addBodyCls");
    });

    //test case for building static method url
    it('should build static method url', function() {
        TestUtil.assertDocs("urlFor/exturls/statics", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.Component.html#static-method-flushLayouts");
    });

    //test case for building event url
    it('should build event url', function() {
        TestUtil.assertDocs("urlFor/exturls/event", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.panel.Panel.html#event-beforeclose");
    });

    //test case for building xtype url
    it('should build xtype url', function() {
        TestUtil.assertDocs("urlFor/exturls/xtype", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.Panel.html");
    });

    // overrides
    it('should provide the correct url for overrides', function() {
        TestUtil.assertDocs("urlFor/exturls/overrides", "caret", "http://docs.sencha.com/extjs/6.0.1/modern/Ext.Class.html#cfg-requires");
    });


    //test case for building touch classname url
    it('should build touch classname url', function() {
        TestUtil.assertDocs("urlFor/touchurls/classname", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.form.Panel");
    });

    //test case for building touch method url
    it('should build touch method url', function() {
        TestUtil.assertDocs("urlFor/touchurls/method", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.form.Panel-method-submit");
    });

    //test case for building touch config url
    it('should build touch config url', function() {
        TestUtil.assertDocs("urlFor/touchurls/config", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.form.Panel-cfg-api");
    });

    //test case for building touch property url
    it('should build touch property url', function() {
        TestUtil.assertDocs("urlFor/touchurls/property", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.form.Panel-property-api");
    });

    //test case for building touch property url
    it('should build touch static method url', function() {
        TestUtil.assertDocs("urlFor/touchurls/statics", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.Base-static-method-addMembers");
    });

    //test case for building touch event url
    it('should build touch static event url', function() {
        TestUtil.assertDocs("urlFor/touchurls/event", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.form.Panel-event-beforesubmit");
    });

    //test case for building touch xtype url
    it('should build touch xtype url', function() {
        TestUtil.assertDocs("urlFor/touchurls/xtype", "caret", "http://docs.sencha.com/touch/2.4/2.4.2-apidocs/#!/api/Ext.form.Panel");
    });

    //test case for a fallback url
    it('should build ext fallback url', function() {
        TestUtil.assertDocs("urlFor/exturls/fallback", "caret", "http://docs.sencha.com/extjs/6.0.1/modern");
    });

    //test case for building event url from ide config file
    it('should build class name url for ext4', function() {
        TestUtil.assertDocs("urlFor/exturls/ext4idecfg", "caret", "http://docs.sencha.com/extjs/4.2.2/#!/api/Ext.panel.Panel-event-beforeclose");
    });

    it('should build touch classname url for versions prior to 2.4.0', function() {
        TestUtil.assertDocs("urlFor/touchurls/touch230url", "caret", "http://docs.sencha.com/touch/2.3.0/#!/api/Ext.form.Panel");
    });

    it('should go to MDN for primitive types', function() {
        TestUtil.assertDocs("urlFor/primitives/string", "caret", "https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String");
    });
});