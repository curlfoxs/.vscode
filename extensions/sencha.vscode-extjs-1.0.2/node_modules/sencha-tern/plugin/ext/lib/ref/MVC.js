"use strict";

var infer = require('../../../../lib/infer'),
    scopeFor = require('../scopeFor');

/**
 * A reference for string literals which reference classes by mvc conventions.  e.g. model: 'User' => App.model.User
 * @param {Node} node
 * @param {Object} rule The item from cmdAutoDependencies for the node's context
 * @constructor
 */
function MVC(node, rule) {
    this.node = node;
    this.rule = rule;
}

MVC.prototype = {
    getCompletions: function() {
        // mvc completions are handled by applying a custom scope to string literals - see scopeFor.js
        return null;
    },

    findDef: function() {
        return infer.def.parsePath(this.node.value, scopeFor(this.node, this.node.start));
    }
};

module.exports = MVC;