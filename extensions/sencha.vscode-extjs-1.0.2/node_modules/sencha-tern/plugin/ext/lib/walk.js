var walk = require('acorn/dist/walk');

/**
 * Walks the node's subtree calling the specified callback on each node in order from top to bottom
 * @param {Node} node The root node to walk
 * @param {Function} callback A callback to call for each child node
 */
module.exports = function topDownWalk(ast, callback) {
    (function c(node, st, override) {
        callback(node, function() {
            walk.base[override || node.type](node, st, c);
        });
    })(ast);
};